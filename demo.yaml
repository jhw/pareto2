components:
- env:
    variables:
    - foo_bar
    - foo_bar_arn
  invocation-type: sync
  name: demo-api-get
  permissions:
  - dynamodb:Query
  type: action
- invocation-type: sync
  name: demo-api-post
  type: action
- events:
  - name: bucket-streaming
    pattern:
      object:
        key:
        - prefix: build
    source:
      name: demo
      type: bucket
  invocation-type: async
  name: demo-bucket-streaming
  permissions:
  - s3:GetObject
  size: large
  timeout: long
  type: action
- events:
  - name: table-streaming2
    pattern:
      eventName:
      - INSERT
      sk:
      - STAGE
    source:
      name: demo
      type: table
  invocation-type: async
  name: demo-table-streaming2
  permissions:
  - dynamodb:GetItem
  type: action
- invocation-type: async
  name: demo-topic-target
  type: action
- invocation-type: sync
  name: demo-timer-target
  type: action
- auth-type: open
  endpoints:
  - action: demo-api-get
    method: GET
    name: api-get
    parameters:
    - name
    path: api-get
  name: demo-public
  stage:
    name: 1-0-0
  type: api
- auth-type: cognito
  endpoints:
  - action: demo-api-post
    method: POST
    name: api-post
    path: api-post
    schema:
      properties:
        name:
          type: string
      required:
      - name
      type: object
  name: demo-private
  stage:
    name: 1-0-0
  type: api
  userpool: demo
- name: demo
  type: bucket
- indexes:
  - name: some-attribute
    type: S
  name: demo
  streaming:
    debug: true
    size: small
    timeout: short
  type: table
- name: demo
  type: userpool
- action: demo-topic-target
  name: demo
  type: topic
- name: demo
  type: secret
  values:
    foo: bar
- action: demo-timer-target
  body:
    foo: bar
  interval: 1
  name: demo
  type: timer
parameters:
  memory-size-large: 2048
  memory-size-medium: 1024
  memory-size-default: 512
  runtime-version: '3.8'
  timeout-long: 30
  timeout-medium: 15
  timeout-default: 5
