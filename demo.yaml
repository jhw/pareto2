components:
- env:
    variables:
    - foo_bar
    - foo_bar_arn
  invocation-type: sync
  name: demo-api-create
  type: action
- events:
  - name: layers-update
    pattern:
      eventName:
      - INSERT
      sk:
      - STAGE
    source:
      name: demo
      type: table
  invocation-type: async
  name: demo-latyers-update
  type: action
- events:
  - name: layers-create
    pattern:
      object:
        key:
        - prefix: build
    source:
      name: demo
      type: bucket
  invocation-type: async
  name: demo-layers-create
  permissions:
  - lambda:PublishLayerVersion
  - s3:GetObject
  size: large
  timeout: long
  type: action
- invocation-type: sync
  name: demo-ui-stages
  permissions:
  - dynamodb:Query
  type: action
- auth-type: open
  endpoints:
  - action: demo-ui-stages
    method: GET
    name: ui-stages-list
    parameters:
    - layername
    path: list-stages
  name: demo-public
  stage:
    name: 1-0-0
  type: api
- auth-type: cognito
  endpoints:
  - action: demo-api-create
    method: POST
    name: api-create
    path: create-layer
    schema:
      properties:
        name:
          type: string
        path:
          type: string
        type:
          type: string
      required:
      - name
      - type
      type: object
  name: demo-private
  stage:
    name: 1-0-0
  type: api
  userpool: demo
- name: demo
  type: bucket
- indexes:
  - name: codebuild-build-id
    type: S
  name: demo
  streaming:
    debug: true
    size: small
    timeout: short
  type: table
- name: demo
  type: userpool
- action: demo-layers-create
  name: demo
  type: topic
- name: demo
  type: secret
  values:
    foo: bar
- action: demo-api-create
  body:
    foo: bar
  interval: 1
  name: demo
  type: timer
parameters:
  memory-size-large: 2048
  memory-size-medium: 1024
  memory-size-default: 512
  runtime-version: '3.8'
  timeout-long: 30
  timeout-medium: 15
  timeout-default: 5
